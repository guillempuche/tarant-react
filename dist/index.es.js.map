{"version":3,"file":"index.es.js","sources":["../src/react_materializer.ts","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.min.js","../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js","../node_modules/use-sync-external-store/shim/index.js","../src/use_actor_hook.ts"],"sourcesContent":["function shallowCopyOfActorState(actor) {\n    const copy = { ...actor };\n    delete copy.self;\n    delete copy.materializers;\n    delete copy.scheduled;\n    delete copy.topicSubscriptions;\n    delete copy.busy;\n    delete copy.partitions;\n    delete copy.system;\n    delete copy.supervisor;\n    delete copy.__reactState;\n    delete copy.__reactSnapshot;\n    delete copy.__reactSubs;\n    // Make the actor state immutable.\n    return Object.freeze(copy);\n}\nexport class ReactMaterializer {\n    onInitialize(actor) {\n        actor.__reactState = shallowCopyOfActorState(actor);\n        actor.__reactSnapshot = () => actor.__reactState;\n        actor.__reactSubs = new Map();\n    }\n    onBeforeMessage(actor, message) { }\n    onAfterMessage(actor, message) {\n        actor.self.ref.__reactState = shallowCopyOfActorState(actor);\n        actor.self.ref.__reactSubs.forEach((cb) => cb());\n    }\n    onError(actor, message, error) {\n        console.error(error);\n    }\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var e=require(\"react\");function h(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var k=\"function\"===typeof Object.is?Object.is:h,l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function q(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];n(function(){c.value=d;c.getSnapshot=b;r(c)&&g({inst:c})},[a,d,b]);m(function(){r(c)&&g({inst:c});return a(function(){r(c)&&g({inst:c})})},[a]);p(d);return d}\nfunction r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}function t(a,b){return b()}var u=\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement?t:q;exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u;\n","/**\n * @license React\n * use-sync-external-store-shim.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n\n          'use strict';\n\n/* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error());\n}\n          var React = require('react');\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  return x === y && (x !== 0 || 1 / x === 1 / y) || x !== x && y !== y // eslint-disable-line no-self-compare\n  ;\n}\n\nvar objectIs = typeof Object.is === 'function' ? Object.is : is;\n\n// dispatch for CommonJS interop named imports.\n\nvar useState = React.useState,\n    useEffect = React.useEffect,\n    useLayoutEffect = React.useLayoutEffect,\n    useDebugValue = React.useDebugValue;\nvar didWarnOld18Alpha = false;\nvar didWarnUncachedGetSnapshot = false; // Disclaimer: This shim breaks many of the rules of React, and only works\n// because of a very particular set of implementation details and assumptions\n// -- change any one of them and it will break. The most important assumption\n// is that updates are always synchronous, because concurrent rendering is\n// only available in versions of React that also have a built-in\n// useSyncExternalStore API. And we only use this shim when the built-in API\n// does not exist.\n//\n// Do not assume that the clever hacks used by this hook also work in general.\n// The point of this shim is to replace the need for hacks by other libraries.\n\nfunction useSyncExternalStore(subscribe, getSnapshot, // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n// React do not expose a way to check if we're hydrating. So users of the shim\n// will need to track that themselves and return the correct value\n// from `getSnapshot`.\ngetServerSnapshot) {\n  {\n    if (!didWarnOld18Alpha) {\n      if (React.startTransition !== undefined) {\n        didWarnOld18Alpha = true;\n\n        error('You are using an outdated, pre-release alpha of React 18 that ' + 'does not support useSyncExternalStore. The ' + 'use-sync-external-store shim will not work correctly. Upgrade ' + 'to a newer pre-release.');\n      }\n    }\n  } // Read the current snapshot from the store on every render. Again, this\n  // breaks the rules of React, and only works here because of specific\n  // implementation details, most importantly that updates are\n  // always synchronous.\n\n\n  var value = getSnapshot();\n\n  {\n    if (!didWarnUncachedGetSnapshot) {\n      var cachedValue = getSnapshot();\n\n      if (!objectIs(value, cachedValue)) {\n        error('The result of getSnapshot should be cached to avoid an infinite loop');\n\n        didWarnUncachedGetSnapshot = true;\n      }\n    }\n  } // Because updates are synchronous, we don't queue them. Instead we force a\n  // re-render whenever the subscribed state changes by updating an some\n  // arbitrary useState hook. Then, during render, we call getSnapshot to read\n  // the current value.\n  //\n  // Because we don't actually use the state returned by the useState hook, we\n  // can save a bit of memory by storing other stuff in that slot.\n  //\n  // To implement the early bailout, we need to track some things on a mutable\n  // object. Usually, we would put that in a useRef hook, but we can stash it in\n  // our useState hook instead.\n  //\n  // To force a re-render, we call forceUpdate({inst}). That works because the\n  // new object always fails an equality check.\n\n\n  var _useState = useState({\n    inst: {\n      value: value,\n      getSnapshot: getSnapshot\n    }\n  }),\n      inst = _useState[0].inst,\n      forceUpdate = _useState[1]; // Track the latest getSnapshot function with a ref. This needs to be updated\n  // in the layout phase so we can access it during the tearing check that\n  // happens on subscribe.\n\n\n  useLayoutEffect(function () {\n    inst.value = value;\n    inst.getSnapshot = getSnapshot; // Whenever getSnapshot or subscribe changes, we need to check in the\n    // commit phase if there was an interleaved mutation. In concurrent mode\n    // this can happen all the time, but even in synchronous mode, an earlier\n    // effect may have mutated the store.\n\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n  }, [subscribe, value, getSnapshot]);\n  useEffect(function () {\n    // Check for changes right before subscribing. Subsequent changes will be\n    // detected in the subscription handler.\n    if (checkIfSnapshotChanged(inst)) {\n      // Force a re-render.\n      forceUpdate({\n        inst: inst\n      });\n    }\n\n    var handleStoreChange = function () {\n      // TODO: Because there is no cross-renderer API for batching updates, it's\n      // up to the consumer of this library to wrap their subscription event\n      // with unstable_batchedUpdates. Should we try to detect when this isn't\n      // the case and print a warning in development?\n      // The store changed. Check if the snapshot changed since the last time we\n      // read from the store.\n      if (checkIfSnapshotChanged(inst)) {\n        // Force a re-render.\n        forceUpdate({\n          inst: inst\n        });\n      }\n    }; // Subscribe to the store and return a clean-up function.\n\n\n    return subscribe(handleStoreChange);\n  }, [subscribe]);\n  useDebugValue(value);\n  return value;\n}\n\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  var prevValue = inst.value;\n\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(prevValue, nextValue);\n  } catch (error) {\n    return true;\n  }\n}\n\nfunction useSyncExternalStore$1(subscribe, getSnapshot, getServerSnapshot) {\n  // Note: The shim does not use getServerSnapshot, because pre-18 versions of\n  // React do not expose a way to check if we're hydrating. So users of the shim\n  // will need to track that themselves and return the correct value\n  // from `getSnapshot`.\n  return getSnapshot();\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined');\n\nvar isServerEnvironment = !canUseDOM;\n\nvar shim = isServerEnvironment ? useSyncExternalStore$1 : useSyncExternalStore;\nvar useSyncExternalStore$2 = React.useSyncExternalStore !== undefined ? React.useSyncExternalStore : shim;\n\nexports.useSyncExternalStore = useSyncExternalStore$2;\n          /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\nif (\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ !== 'undefined' &&\n  typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop ===\n    'function'\n) {\n  __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error());\n}\n        \n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.min.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","// This doesn't work in ESM, because use-sync-external-store only exposes CJS.\n// See: https://github.com/pmndrs/valtio/issues/452\n// The following is a workaround until ESM is supported.\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nexport const useActorState = (actor) => {\n    function subscribe(callback) {\n        const subId = +new Date();\n        actor.ref.__reactSubs.set(subId, callback);\n        return () => {\n            actor.ref.__reactSubs.delete(subId);\n        };\n    }\n    function getSnapshot() {\n        return actor.ref.__reactState;\n    }\n    return useSyncExternalStore(subscribe, getSnapshot);\n};\n"],"names":["shallowCopyOfActorState","actor","copy","_objectSpread","self","materializers","scheduled","topicSubscriptions","busy","partitions","system","supervisor","__reactState","__reactSnapshot","__reactSubs","Object","freeze","ReactMaterializer","_classCallCheck","_createClass","key","value","onInitialize","Map","onBeforeMessage","message","onAfterMessage","ref","forEach","cb","onError","error","console","e","require$$0","h","a","b","k","is","l","useState","m","useEffect","n","useLayoutEffect","p","useDebugValue","q","d","f","inst","getSnapshot","c","g","r","t","u","window","document","createElement","useSyncExternalStoreShim_production_min","useSyncExternalStore","process","env","NODE_ENV","__REACT_DEVTOOLS_GLOBAL_HOOK__","registerInternalModuleStart","Error","React","ReactSharedInternals","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","format","_len2","arguments","length","args","Array","_key2","printWarning","level","ReactDebugCurrentFrame","stack","getStackAddendum","concat","argsWithFormat","map","item","String","unshift","Function","prototype","apply","call","x","y","objectIs","didWarnOld18Alpha","didWarnUncachedGetSnapshot","subscribe","getServerSnapshot","startTransition","undefined","cachedValue","_useState","forceUpdate","checkIfSnapshotChanged","handleStoreChange","latestGetSnapshot","prevValue","nextValue","useSyncExternalStore$1","canUseDOM","isServerEnvironment","shim","useSyncExternalStore$2","useSyncExternalStoreShim_development","registerInternalModuleStop","module","exports","require$$1","useActorState","callback","subId","Date","set"],"mappings":"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","x_google_ignoreList":[1,2,3]}